"use strict";const button=document.querySelector(".js-search-button");let resultsSearch=document.querySelector(".js-search-input");const containerCardsSeries=document.querySelector(".js-ul-list-of-series"),containerFavorites=document.querySelector(".js-container__favorite-series");let showsList;const paintCard=(s,e,t,i)=>{containerCardsSeries.innerHTML+=` \n    <li id = ${t} class="js-li-results ${i}">\n    <div class="js-info-of-my-serie info-of-my-serie">\n    <img class="image card" src="${s}" alt=""\n      <h3 class="js-name-series"> ${e}</h3>\n    </div>\n  </li>`},paintAllCards=()=>{containerCardsSeries.innerHTML="";for(let s=0;s<showsList.length;s++)null===showsList[s].show.image?paintCard("//via.placeholder.com/210x295/ffffff/666666/?\n              text=TV.",showsList[s].show.name,s):paintCard(showsList[s].show.image.medium,showsList[s].show.name,s)},paintAllCardsWithFavoriteCssClass=()=>{containerCardsSeries.innerHTML="";let s=JSON.parse(localStorage.getItem("listOfMyFavorite"));for(let e=0;e<showsList.length;e++){let t="";for(let i=0;i<s.length;i++)showsList[e].show.name===s[i].show.name&&(t="red");null===showsList[e].show.image?paintCard("//via.placeholder.com/210x295/ffffff/666666/?\n              text=TV.",showsList[e].show.name,e,t):paintCard(showsList[e].show.image.medium,showsList[e].show.name,e,t)}},paintFavoriteCard=(s,e,t)=>{containerFavorites.innerHTML+=` <li id=${t} class="js-results js-font">\n    <div class="js-info-of-my-serie info-of-my-serie js-width-info-of-my-serie">\n    <img class="image-card js-width-image" src="${s}" alt="imagen"\n      <h3 class="js-name-series js-width-h3"> ${e}</h3>\n    </div>\n    </li>`},paintAllFavorites=()=>{containerFavorites.innerHTML="";let s=JSON.parse(localStorage.getItem("listOfMyFavorite"));if(null!==s)for(let a=0;a<s.length;a++)e=s[a].show.image.medium,t=s[a].show.name,i=a,containerFavorites.innerHTML+=` <li id=${i} class="js-results js-font">\n    <div class="js-info-of-my-serie info-of-my-serie js-width-info-of-my-serie">\n    <img class="image-card js-width-image" src="${e}" alt="imagen"\n      <h3 class="js-name-series js-width-h3"> ${t}</h3>\n    </div>\n    </li>`;var e,t,i},searchResultFromApi=()=>{fetch("http://api.tvmaze.com/search/shows?q="+resultsSearch.value).then(s=>s.json()).then(s=>{showsList=s,null!==JSON.parse(localStorage.getItem("listOfMyFavorite"))?paintAllCardsWithFavoriteCssClass():paintAllCards(),assignListener()})};button.addEventListener("click",searchResultFromApi);const addFavoriteSeriesFromLocalStorage=s=>{let e=s.currentTarget,t=s.currentTarget.id,i=showsList[t];e.classList.add("red");let a=[],r=localStorage.getItem("listOfMyFavorite");null!==r&&(a=JSON.parse(r)),a.push(i),localStorage.setItem("listOfMyFavorite",JSON.stringify(a)),console.log("myFavorite",e),paintAllFavorites()},assignListener=()=>{let s=document.querySelectorAll(".js-li-results");for(let e=0;e<s.length;e++)s[e].addEventListener("click",addFavoriteSeriesFromLocalStorage)};paintAllFavorites();